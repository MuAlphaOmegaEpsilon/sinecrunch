language: cpp

sudo: false

matrix:
  include:

    - os: linux
      compiler: clang        

    - os: linux
      compiler: g++
      addons:
        apt:
          sources: 'ubuntu-toolchain-r-test'
          packages: g++-8

    - os: osx

    - os: windows

script:
  - if [ "$TRAVIS_OS_NAME" == "linux" ] && [ "$CXX" == "g++" ]; then sudo rm /usr/bin/g++; fi
  - if [ "$TRAVIS_OS_NAME" == "linux" ] && [ "$CXX" == "g++" ]; then sudo ln -s /usr/bin/g++-8 /usr/bin/g++; fi
  - ./benchmark/setup.sh
  - ./benchmark/run.sh
